{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { Provider as PaperProvider } from \"react-native-paper\";\nimport { Provider as ReduxProvider } from \"react-redux\";\nimport store from \"./src/redux/store\";\nimport { BaseStack } from \"./src/navigators/BaseStack\";\nimport { lightTheme, darkTheme } from \"./src/theme\";\nimport { selectToggleSlice } from \"./src/redux/features/toggle/slice\";\nimport { useAppSelector } from \"./src/redux/store\";\nimport { useEffect } from \"react\";\nimport * as Notifications from 'expo-notifications';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function App() {\n  usePushNotifications();\n  return _jsx(ReduxProvider, {\n    store: store,\n    children: _jsx(AppInsideRedux, {})\n  });\n}\nfunction AppInsideRedux() {\n  var _useAppSelector = useAppSelector(selectToggleSlice),\n    isNightMode = _useAppSelector.isNightMode;\n  return _jsx(PaperProvider, {\n    theme: isNightMode ? darkTheme : lightTheme,\n    children: _jsx(NavigationContainer, {\n      theme: isNightMode ? darkTheme : lightTheme,\n      children: _jsx(BaseStack, {})\n    })\n  });\n}\nexport var usePushNotifications = function usePushNotifications() {\n  return useEffect(function () {\n    Notifications.setNotificationHandler({\n      handleNotification: function () {\n        var _handleNotification = _asyncToGenerator(function* () {\n          return {\n            shouldShowAlert: true,\n            shouldPlaySound: true,\n            shouldSetBadge: true\n          };\n        });\n        function handleNotification() {\n          return _handleNotification.apply(this, arguments);\n        }\n        return handleNotification;\n      }()\n    });\n    var responseSubscription = Notifications.addNotificationResponseReceivedListener(function (notification) {});\n    var notficationSubscription = Notifications.addNotificationReceivedListener(function (notification) {\n      console.log(\"helo\");\n    });\n    return function () {\n      notficationSubscription.remove();\n      responseSubscription.remove();\n    };\n  }, []);\n};\nfunction handleNotificationReceived(notification) {\n  throw new Error(\"Function not implemented.\");\n}","map":{"version":3,"names":["NavigationContainer","Provider","PaperProvider","ReduxProvider","store","BaseStack","lightTheme","darkTheme","selectToggleSlice","useAppSelector","useEffect","Notifications","App","usePushNotifications","AppInsideRedux","isNightMode","setNotificationHandler","handleNotification","shouldShowAlert","shouldPlaySound","shouldSetBadge","responseSubscription","addNotificationResponseReceivedListener","notification","notficationSubscription","addNotificationReceivedListener","console","log","remove","handleNotificationReceived","Error"],"sources":["/home/ngoalong/PhuMinh/HK221/dacn/curent/runtracking/frontend/App.tsx"],"sourcesContent":["import { NavigationContainer } from \"@react-navigation/native\";\nimport { Provider as PaperProvider } from \"react-native-paper\";\nimport { Provider as ReduxProvider } from \"react-redux\";\n\nimport store, { useAppDispatch } from \"./src/redux/store\";\nimport { BaseStack } from \"./src/navigators/BaseStack\";\nimport { lightTheme, darkTheme } from \"./src/theme\";\nimport { selectToggleSlice } from \"./src/redux/features/toggle/slice\";\nimport { useAppSelector } from \"./src/redux/store\";\nimport { useEffect } from \"react\";\nimport * as Notifications from 'expo-notifications';\nimport { Subscription } from 'expo-modules-core';\nimport {listLastNotificationInfoThunk}  from \"./src/redux/features/notification/thunk\";\nexport default function App() {\n  usePushNotifications()\n  return (\n    <ReduxProvider store={store}>\n      <AppInsideRedux />\n    </ReduxProvider>\n  );\n}\n\nfunction AppInsideRedux() {\n  const { isNightMode } = useAppSelector(selectToggleSlice);\n  return (\n    <PaperProvider theme={isNightMode ? darkTheme : lightTheme}>\n      <NavigationContainer theme={isNightMode ? darkTheme : lightTheme}>\n        <BaseStack />\n      </NavigationContainer>\n    </PaperProvider>\n  );\n}\n\nexport const usePushNotifications = () => useEffect(() => {\n  Notifications.setNotificationHandler({\n      handleNotification: async () => ({\n          shouldShowAlert: true,\n          shouldPlaySound: true,\n          shouldSetBadge: true,\n      }),\n  });\n \n  const responseSubscription = Notifications.addNotificationResponseReceivedListener(notification => {\n      // handleNotificationPressed(notification);\n  });\n  const notficationSubscription = Notifications.addNotificationReceivedListener(notification => {\n      // handleNotificationReceived(notification);\n      console.log(\"helo\")\n      \n  });\n  return () => {\n      notficationSubscription.remove();\n      responseSubscription.remove();\n  }\n}, [])\n\nfunction handleNotificationReceived(notification: Notifications.Notification) {\n  throw new Error(\"Function not implemented.\");\n}\n"],"mappings":";AAAA,SAASA,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,QAAQ,IAAIC,aAAa,QAAQ,oBAAoB;AAC9D,SAASD,QAAQ,IAAIE,aAAa,QAAQ,aAAa;AAEvD,OAAOC,KAAK;AACZ,SAASC,SAAS;AAClB,SAASC,UAAU,EAAEC,SAAS;AAC9B,SAASC,iBAAiB;AAC1B,SAASC,cAAc;AACvB,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAO,KAAKC,aAAa,MAAM,oBAAoB;AAAC;AAGpD,eAAe,SAASC,GAAG,GAAG;EAC5BC,oBAAoB,EAAE;EACtB,OACE,KAAC,aAAa;IAAC,KAAK,EAAET,KAAM;IAAA,UAC1B,KAAC,cAAc;EAAG,EACJ;AAEpB;AAEA,SAASU,cAAc,GAAG;EACxB,sBAAwBL,cAAc,CAACD,iBAAiB,CAAC;IAAjDO,WAAW,mBAAXA,WAAW;EACnB,OACE,KAAC,aAAa;IAAC,KAAK,EAAEA,WAAW,GAAGR,SAAS,GAAGD,UAAW;IAAA,UACzD,KAAC,mBAAmB;MAAC,KAAK,EAAES,WAAW,GAAGR,SAAS,GAAGD,UAAW;MAAA,UAC/D,KAAC,SAAS;IAAG;EACO,EACR;AAEpB;AAEA,OAAO,IAAMO,oBAAoB,GAAG,SAAvBA,oBAAoB;EAAA,OAASH,SAAS,CAAC,YAAM;IACxDC,aAAa,CAACK,sBAAsB,CAAC;MACjCC,kBAAkB;QAAA,4CAAE;UAAA,OAAa;YAC7BC,eAAe,EAAE,IAAI;YACrBC,eAAe,EAAE,IAAI;YACrBC,cAAc,EAAE;UACpB,CAAC;QAAA,CAAC;QAAA;UAAA;QAAA;QAAA;MAAA;IACN,CAAC,CAAC;IAEF,IAAMC,oBAAoB,GAAGV,aAAa,CAACW,uCAAuC,CAAC,UAAAC,YAAY,EAAI,CAEnG,CAAC,CAAC;IACF,IAAMC,uBAAuB,GAAGb,aAAa,CAACc,+BAA+B,CAAC,UAAAF,YAAY,EAAI;MAE1FG,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IAEvB,CAAC,CAAC;IACF,OAAO,YAAM;MACTH,uBAAuB,CAACI,MAAM,EAAE;MAChCP,oBAAoB,CAACO,MAAM,EAAE;IACjC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;AAAA;AAEN,SAASC,0BAA0B,CAACN,YAAwC,EAAE;EAC5E,MAAM,IAAIO,KAAK,CAAC,2BAA2B,CAAC;AAC9C"},"metadata":{},"sourceType":"module"}