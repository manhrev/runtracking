{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useState } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Button, Checkbox, IconButton, Text, TextInput } from \"react-native-paper\";\nimport { useAppTheme } from \"../../theme\";\nimport { authClient, KEY_ACCESS_TOKEN } from \"../../utils/grpc\";\nimport { baseStyles } from \"../baseStyle\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function Signup(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var theme = useAppTheme();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    displayName = _useState4[0],\n    setDisplayName = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    password = _useState6[0],\n    setPassword = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    confirmPassword = _useState8[0],\n    setConfirmPassword = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    checked = _useState10[0],\n    setChecked = _useState10[1];\n  var handleContinue = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (displayName == \"\" || password == \"\" || confirmPassword == \"\" || displayName == \"\") {\n        alert(\"Please input\");\n        return;\n      }\n      if (password != confirmPassword) {\n        alert(\"Password confirm mismatch!\");\n        return;\n      }\n      var _yield$authClient$sig = yield authClient.signUp({\n          displayName: displayName,\n          password: password,\n          userName: username\n        }),\n        error = _yield$authClient$sig.error,\n        response = _yield$authClient$sig.response;\n      if (error) {\n        alert(\"An error occurred, please try again\");\n      } else {\n        var _response$tokenInfo;\n        var token = (response == null ? void 0 : (_response$tokenInfo = response.tokenInfo) == null ? void 0 : _response$tokenInfo.accessToken) || \"\";\n        AsyncStorage.setItem(KEY_ACCESS_TOKEN, token);\n        navigation.navigate(\"GetInfo\");\n      }\n    });\n    return function handleContinue() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(_Fragment, {\n    children: _jsx(View, {\n      style: baseStyles(theme).homeContainer,\n      children: _jsxs(View, {\n        style: baseStyles(theme).innerWrapper,\n        children: [_jsxs(View, {\n          style: {\n            paddingVertical: 20,\n            display: \"flex\",\n            flexDirection: \"row\"\n          },\n          children: [_jsx(View, {\n            style: {\n              flex: 1\n            },\n            children: _jsx(IconButton, {\n              icon: \"arrow-left\",\n              size: 24,\n              onPress: function onPress() {\n                return navigation.goBack();\n              },\n              style: {\n                position: \"relative\"\n              }\n            })\n          }), _jsx(View, {\n            style: {\n              flex: 1,\n              alignItems: \"center\"\n            },\n            children: _jsx(Text, {\n              variant: \"displaySmall\",\n              style: {\n                fontWeight: \"bold\",\n                alignSelf: \"center\"\n              },\n              children: \"Sign Up\"\n            })\n          }), _jsx(View, {\n            style: {\n              flex: 1\n            }\n          })]\n        }), _jsx(View, {\n          children: _jsx(Image, {\n            style: {\n              width: \"100%\",\n              height: 140\n            },\n            source: require(\"./../../../assets/Banners/signup_banner.jpg\")\n          })\n        }), _jsxs(View, {\n          style: {\n            marginTop: 30\n          },\n          children: [_jsx(TextInput, {\n            mode: \"outlined\",\n            label: \"Username\",\n            value: username,\n            onChangeText: function onChangeText(text) {\n              return setUsername(text);\n            },\n            selectionColor: theme.colors.backdrop,\n            style: styles(theme).inputStyle\n          }), _jsx(TextInput, {\n            mode: \"outlined\",\n            label: \"Display name\",\n            value: displayName,\n            onChangeText: function onChangeText(text) {\n              return setDisplayName(text);\n            },\n            selectionColor: theme.colors.backdrop,\n            style: styles(theme).inputStyle\n          }), _jsx(TextInput, {\n            mode: \"outlined\",\n            label: \"Password\",\n            value: password,\n            onChangeText: function onChangeText(text) {\n              return setPassword(text);\n            },\n            selectionColor: theme.colors.backdrop,\n            style: styles(theme).inputStyle\n          }), _jsx(TextInput, {\n            mode: \"outlined\",\n            label: \"Confirm password\",\n            value: confirmPassword,\n            onChangeText: function onChangeText(text) {\n              return setConfirmPassword(text);\n            },\n            selectionColor: theme.colors.backdrop,\n            style: styles(theme).inputStyle\n          })]\n        }), _jsxs(View, {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            marginTop: 15\n          },\n          children: [_jsx(Checkbox, {\n            status: checked ? \"checked\" : \"unchecked\",\n            onPress: function onPress() {\n              setChecked(!checked);\n            }\n          }), _jsx(Text, {\n            variant: \"bodyLarge\",\n            style: {\n              fontWeight: \"bold\",\n              lineHeight: 18,\n              paddingTop: 6\n            },\n            children: \"I would like to receive your newsletter and other promotional information.\"\n          })]\n        }), _jsx(Button, {\n          mode: \"elevated\",\n          onPress: handleContinue,\n          style: {\n            marginTop: 30,\n            borderRadius: 50\n          },\n          contentStyle: {\n            paddingVertical: 5,\n            borderRadius: 100\n          },\n          children: _jsx(Text, {\n            variant: \"titleMedium\",\n            style: {\n              color: theme.colors.primary,\n              fontWeight: \"bold\"\n            },\n            children: \"Continue\"\n          })\n        })]\n      })\n    })\n  });\n}\nvar styles = function styles(theme) {\n  return StyleSheet.create({\n    inputStyle: {\n      marginBottom: 10\n    }\n  });\n};","map":{"version":3,"names":["AsyncStorage","useState","Button","Checkbox","IconButton","Text","TextInput","useAppTheme","authClient","KEY_ACCESS_TOKEN","baseStyles","Signup","navigation","route","theme","username","setUsername","displayName","setDisplayName","password","setPassword","confirmPassword","setConfirmPassword","checked","setChecked","handleContinue","alert","signUp","userName","error","response","token","tokenInfo","accessToken","setItem","navigate","homeContainer","innerWrapper","paddingVertical","display","flexDirection","flex","goBack","position","alignItems","fontWeight","alignSelf","width","height","require","marginTop","text","colors","backdrop","styles","inputStyle","lineHeight","paddingTop","borderRadius","color","primary","StyleSheet","create","marginBottom"],"sources":["/home/ngoalong/PhuMinh/HK221/dacn/curent/runtracking/frontend/src/screens/Authentication/Signup.tsx"],"sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { NativeStackScreenProps } from \"@react-navigation/native-stack\";\nimport { useState } from \"react\";\nimport { Image, StyleSheet, View } from \"react-native\";\nimport {\n  Button,\n  Checkbox,\n  IconButton,\n  Text,\n  TextInput,\n} from \"react-native-paper\";\nimport { RootBaseStackParamList } from \"../../navigators/BaseStack\";\n\nimport { useAppDispatch } from \"../../redux/store\";\nimport { AppTheme, useAppTheme } from \"../../theme\";\nimport { authClient, KEY_ACCESS_TOKEN } from \"../../utils/grpc\";\nimport { baseStyles } from \"../baseStyle\";\n\nexport default function Signup({\n  navigation,\n  route,\n}: NativeStackScreenProps<RootBaseStackParamList, \"Signup\">) {\n  const theme = useAppTheme();\n  const [username, setUsername] = useState(\"\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [checked, setChecked] = useState(false);\n  const handleContinue = async () => {\n    if (\n      displayName == \"\" ||\n      password == \"\" ||\n      confirmPassword == \"\" ||\n      displayName == \"\"\n    ) {\n      alert(\"Please input\");\n      return;\n    }\n\n    if (password != confirmPassword) {\n      alert(\"Password confirm mismatch!\");\n      return;\n    }\n\n    const { error, response } = await authClient.signUp({\n      displayName: displayName,\n      password: password,\n      userName: username,\n    });\n\n    if (error) {\n      alert(\"An error occurred, please try again\");\n    } else {\n      const token = response?.tokenInfo?.accessToken || \"\";\n      AsyncStorage.setItem(KEY_ACCESS_TOKEN, token);\n      navigation.navigate(\"GetInfo\");\n    }\n  };\n  return (\n    <>\n      <View style={baseStyles(theme).homeContainer}>\n        <View style={baseStyles(theme).innerWrapper}>\n          <View\n            style={{\n              paddingVertical: 20,\n              display: \"flex\",\n              flexDirection: \"row\",\n            }}\n          >\n            <View style={{ flex: 1 }}>\n              <IconButton\n                icon=\"arrow-left\"\n                size={24}\n                onPress={() => navigation.goBack()}\n                style={{ position: \"relative\" }}\n              />\n            </View>\n            <View style={{ flex: 1, alignItems: \"center\" }}>\n              <Text\n                variant=\"displaySmall\"\n                style={{ fontWeight: \"bold\", alignSelf: \"center\" }}\n              >\n                Sign Up\n              </Text>\n            </View>\n            <View style={{ flex: 1 }}></View>\n          </View>\n          <View>\n            <Image\n              style={{ width: \"100%\", height: 140 }}\n              source={require(\"./../../../assets/Banners/signup_banner.jpg\")}\n            />\n          </View>\n\n          <View style={{ marginTop: 30 }}>\n            <TextInput\n              mode=\"outlined\"\n              label=\"Username\"\n              value={username}\n              onChangeText={(text) => setUsername(text)}\n              selectionColor={theme.colors.backdrop}\n              style={styles(theme).inputStyle}\n            />\n            <TextInput\n              mode=\"outlined\"\n              label=\"Display name\"\n              value={displayName}\n              onChangeText={(text) => setDisplayName(text)}\n              selectionColor={theme.colors.backdrop}\n              style={styles(theme).inputStyle}\n            />\n            <TextInput\n              mode=\"outlined\"\n              label=\"Password\"\n              value={password}\n              onChangeText={(text) => setPassword(text)}\n              selectionColor={theme.colors.backdrop}\n              style={styles(theme).inputStyle}\n            />\n            <TextInput\n              mode=\"outlined\"\n              label=\"Confirm password\"\n              value={confirmPassword}\n              onChangeText={(text) => setConfirmPassword(text)}\n              selectionColor={theme.colors.backdrop}\n              style={styles(theme).inputStyle}\n            />\n          </View>\n          <View\n            style={{ display: \"flex\", flexDirection: \"row\", marginTop: 15 }}\n          >\n            <Checkbox\n              status={checked ? \"checked\" : \"unchecked\"}\n              onPress={() => {\n                setChecked(!checked);\n              }}\n            />\n            <Text\n              variant=\"bodyLarge\"\n              style={{ fontWeight: \"bold\", lineHeight: 18, paddingTop: 6 }}\n            >\n              I would like to receive your newsletter and other promotional\n              information.\n            </Text>\n          </View>\n          <Button\n            mode=\"elevated\"\n            onPress={handleContinue}\n            style={{ marginTop: 30, borderRadius: 50 }}\n            contentStyle={{ paddingVertical: 5, borderRadius: 100 }}\n          >\n            <Text\n              variant=\"titleMedium\"\n              style={{ color: theme.colors.primary, fontWeight: \"bold\" }}\n            >\n              Continue\n            </Text>\n          </Button>\n        </View>\n      </View>\n    </>\n  );\n}\n\nconst styles = (theme: AppTheme) =>\n  StyleSheet.create({\n    inputStyle: {\n      marginBottom: 10,\n    },\n  });\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}